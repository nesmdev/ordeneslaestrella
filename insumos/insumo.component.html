<div>
	<b-modal
		v-model="mostrar"
		@ok="volverSi"
		@cancel="volverSi"
		@hidden="volverSi"
		:title="title"
		hide-footer
		><form>
			<div class="row">
				<div class="col-sm-12">
					<div class="form-group">
						<input v-model="id" type="hidden" />
						<label>Nombre</label>
						<input
							v-model="insumo.nombre"
							type="text"
							class="form-control"
							placeholder="Nombre"
							required
						/>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-5">
					<div class="form-group">
						<label>Unidad de Medida</label>
						<v-select
							v-model="insumo.umedida"
							:options="umedidas"
							required
						></v-select>
					</div>
				</div>
				<div class="col-sm-7">
					<div class="form-group">
						<label>Imagen principal</label>
						<input
							type="url"
							v-model="insumo.imagen"
							class="form-control"
							@click="mostrarImagen"
							@keypress="mostrarImagen"
							@keyup="mostrarImagen"
						/>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12">
					<img
						:src="insumo.imagen"
						v-if="imagenValida"
						style="max-width: 100%"
					/>
				</div>
			</div>

			<div class="form-group">
				<label for="otros_nombres">Otros nombres</label>
				<div class="row">
					<div class="col-sm-6">
						<input
							type="text"
							placeholder="Otro nombre"
							class="form-control"
							required
						/>
					</div>
					<div class="col-sm-6">
						<v-select
							placeholder="Proveedor"
							:options="proveedores"
							label="nombre"
							:reduce="proveedor=>proveedor['.key']"
						></v-select>
					</div>
				</div>
			</div>

			<button v-if="!id" class="btn btn-primary" @click="crear">
				Guardar
			</button>
			<button v-if="id" class="btn btn-success" @click="actualizar">
				Guardar
			</button>
			<span v-if="id" :title="insumo._updated.toDate() | fechaLarga"
				>Se actualiz√≥ {{ insumo._updated.toDate() | hace }}</span
			>
		</form>
	</b-modal>
</div>
