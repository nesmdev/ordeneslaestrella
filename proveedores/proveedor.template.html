<div>
	<b-modal
		v-model="mostrar"
		@ok="volverSi"
		@cancel="volverSi"
		@hidden="volverSi"
		:title="title"
		hide-footer
	>
		<form @submit.prevent="onSubmit">
			<input v-model="id" type="hidden" />
			<div class="form-group">
				<label>Nombre</label>
				<input
					type="text"
					class="form-control"
					v-model="proveedor.nombre"
					required
					placeholder="Nombre del proveedor"
				/>
			</div>
			<div class="form-group">
				<label>Descripción</label>
				<textarea
					rows="3"
					class="form-control"
					v-model="proveedor.descripcion"
					required
					placeholder="Descripción"
				></textarea>
			</div>
			<div class="form-group">
				<label>Logo</label>
				<input
					type="url"
					class="form-control"
					v-model="proveedor.logo"
					required
					placeholder="Logo del proveedor"
				/>
				<img
					:src="proveedor.logo"
					@error="imageDefault"
					style="max-width: 100%; max-height: 250px"
				/>
			</div>
			<button
				type="submit"
				class="btn btn-sm btn-primary"
				@click="agregarProducto"
			>
				Añadir producto
			</button>
			<div v-for="(producto, index) in proveedor.productos">
				<div class="form-group">
					<div class="row">
						<div class="col-sm-6">
							<input
								type="text"
								class="form-control"
								v-model="proveedor.productos[index].nombre"
								required
							/>
						</div>
						<div class="col-sm-5">
							<v-select
								v-model="proveedor.productos[index].insumo"
								:options="insumos"
								:reduce="insumo=>insumo['.key']"
								label="nombre"
								required
							/>
						</div>
						<div class="col-sm-1">
							<button
								type="button"
								class="btn btn-sm btn-danger"
								@click="eliminarProducto(index)"
							>
								-
							</button>
						</div>
					</div>
				</div>
			</div>

			<button type="submit" class="btn btn-primary">Submit</button>
		</form>
	</b-modal>
</div>
